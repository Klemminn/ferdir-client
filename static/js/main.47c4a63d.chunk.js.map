{"version":3,"sources":["styles/Colors.ts","components/Buttons.tsx","components/Images.tsx","utils/TextUtils.ts","utils/DateUtils.ts","utils/MiscUtils.ts","components/Inputs.tsx","components/ExternalLink.tsx","components/Results.tsx","components/Header.tsx","components/Hidden.tsx","components/Loader.tsx","components/Tabs.tsx","environment/index.tsx","services/connector.ts","services/AgencyService.ts","services/FilterService.ts","services/PlaceService.ts","services/TripService.ts","pages/SearchPage.tsx","App.tsx","serviceWorker.ts","index.tsx","assets/header-logo.svg","assets/palms-w-logo.png"],"names":["Colors","JumboButton","styled","Button","ThumbnailImage","src","placeholder","ref","actual","imageProps","height","width","alt","AgencyLogo","capitalize","str","charAt","toUpperCase","slice","thousandSeparator","toString","replace","dotToComma","require","dayjs","locale","getDate","getEndOfMonth","date","endOf","getStartOfMonth","startOf","getIsoDate","format","getTripDatesString","departureDate","returnDate","formattedDeparture","TextUtils","formattedReturn","getRangeArray","max","min","Array","from","x","i","groupTripsByAgency","newTrips","previousTrips","previousGrouped","lastExisting","pop","initialTrips","newGrouped","reduce","previous","trip","tripIdentifier","hotelCode","price","nights","sameTrip","find","groupedTrip","agencies","a","agency","push","url","logo","agencyLogo","sort","b","Math","random","length","hasObjectsDifferentValues","initialObject","compareObject","Object","keys","some","key","Container","div","InputWrapper","label","children","rest","Label","Text","defaultValue","onChange","Input","e","target","value","Select","options","isMulti","className","selected","map","item","dv","option","MultiSelect","props","IntegerSelect","MiscUtils","SliderContainer","StyledSlider","ReactSlider","StyledThumb","Thumb","StyledTrack","index","GreyDark","BlueDeepSky","Track","state","ValueLabel","Slider","lastIndex","isMultiple","isArray","defaultValueIndexes","findIndex","useState","setValue","lowerLabel","upperLabel","renderTrack","renderThumb","onAfterChange","v","handleChange","ReactGA","initialize","StyledTrackedLink","noUnderline","OutboundLink","Black","StyledLink","ExternalLink","skipTracking","href","to","eventLabel","ResultRow","Layout","Row","GreyBackground","ImageColumn","Col","ContentColumn","PriceColumn","ResultHeader","ResultInfo","ResultInfoLine","TripadvisorIcon","FaTripadvisor","StarsContainer","Stars","stars","num","AgencyContainer","PriceContainer","PriceText","isMain","Price","Result","isPackage","place","imageSmall","hotel","roomDescription","tripadvisorUrl","tripadvisorRating","pricePerPerson","md","DateUtils","toFixed","Trip","Trips","trips","id","Flight","flight","Flights","flights","FullHeader","GreyLight","Logo","img","Header","HeaderLogo","Hidden","shouldHide","SpinAnimation","keyframes","Spinner","FaSun","Loader","Link","NavLink","GreyOpacity","Tabs","tabs","active","setActive","useEffect","Nav","tab","idx","NavItem","onClick","envParams","api","window","location","host","connector","axios","create","baseURL","EnvParams","headers","getAgencies","get","data","createFilter","filter","post","getFilter","code","getPlaces","getFlightPlaces","getTrips","params","getFlights","monthOptions","firstDayOfCurrentMonth","offset","firstDayOfMonth","add","getMonthOptions","defaultTravelPeriod","defaultState","adults","nightsFrom","nightsTo","priceFrom","priceTo","minStars","minTripadvisor","search","dateFrom","dateTo","places","specificDates","nightOptions","priceOptions","thousands","starOptions","tripadvisorRatingOptions","PageContainer","White","Slogan","SloganImage","ContentContainer","TabLabel","BlackText","SearchPage","setIsPackage","setPlaces","selectedPlaceCodes","setSelectedPlaceCodes","isReady","setIsReady","pageRef","useRef","flightPlaces","setFlightPlaces","selectedFlightPlaceCodes","setSelectedFlightPlaceCodes","setAgencies","setSearch","setSearchProp","prop","setTrips","setFlights","hasMoreTrips","setHasMoreTrips","loading","setLoading","filterCode","useParams","history","useHistory","Promise","all","applyFilter","init","FilterService","handleTabChange","searchParams","newIsPackage","PlaceService","response","AgencyService","handleUrlChange","newFilterCode","handleSearchParams","placeCodes","nextPage","filteredParams","page","updatePage","TripService","groupedTrips","current","groupedFlights","country","name","color","disabled","dataLength","next","hasMore","loader","Background","App","exact","path","component","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","module","exports"],"mappings":"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","file":"static/js/main.47c4a63d.chunk.js","sourcesContent":["enum Colors {\r\n  White = '#FFFFFF',\r\n  Black = '#000000',\r\n  GreyBackground = '#EBEBEB',\r\n  GreyLight = '#F8F8F8',\r\n  GreyDark = '#E5E5E5',\r\n  GreyDarker = '#6F7374',\r\n  GreyOpacity = '#DDDDDDAD',\r\n  BlackText = '#333333',\r\n  BlueDeepSky = '#00BFFF',\r\n}\r\n\r\nexport default Colors;\r\n","import styled from 'styled-components';\r\nimport { Button } from 'reactstrap';\r\n\r\nexport const JumboButton = styled(Button)`\r\n  width: 100%;\r\n  font-size: 3rem;\r\n`;\r\n","import React from 'react';\r\nimport { LazyImage } from 'react-lazy-images';\r\n\r\ntype ImageProps = {\r\n  src: string;\r\n};\r\n\r\nexport const ThumbnailImage: React.FC<ImageProps> = ({ src }) => (\r\n  <LazyImage\r\n    placeholder={({ ref }) => <div ref={ref} />}\r\n    src={src}\r\n    actual={({ imageProps }) => (\r\n      <img height=\"100%\" width=\"100%\" alt=\"\" {...imageProps} />\r\n    )}\r\n  />\r\n);\r\n\r\nexport const AgencyLogo: React.FC<ImageProps> = ({ src }) => (\r\n  <LazyImage\r\n    placeholder={({ ref }) => <div ref={ref} />}\r\n    src={src}\r\n    actual={({ imageProps }) => <img height=\"100%\" alt=\"\" {...imageProps} />}\r\n  />\r\n);\r\n","export const capitalize = (str: string) => {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n};\r\n\r\nexport const thousandSeparator = (str: number | string) => {\r\n  return str.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\r\n};\r\n\r\nexport const dotToComma = (str: number | string) => {\r\n  return str.toString().replace('.', ',');\r\n};\r\n","import dayjs, { Dayjs } from 'dayjs';\r\nimport * as TextUtils from './TextUtils';\r\n\r\nrequire('dayjs/locale/is');\r\ndayjs.locale('is');\r\n\r\ntype Date = Dayjs | string | undefined;\r\n\r\nexport const getDate = dayjs;\r\n\r\nexport const getEndOfMonth = (date?: Date) => getDate(date).endOf('month');\r\nexport const getStartOfMonth = (date?: Date) => getDate(date).startOf('month');\r\n\r\nexport const getIsoDate = (date?: Date) => getDate(date).format('YYYY-MM-DD');\r\n\r\nexport const getTripDatesString = (\r\n  departureDate: string,\r\n  returnDate: string,\r\n) => {\r\n  const format = 'ddd. DD.MM.YYYY';\r\n  const formattedDeparture = TextUtils.capitalize(\r\n    getDate(departureDate).format(format),\r\n  );\r\n  const formattedReturn = TextUtils.capitalize(\r\n    getDate(returnDate).format(format),\r\n  );\r\n  return `${formattedDeparture} - ${formattedReturn}`;\r\n};\r\n","import { GroupedTrip, Trip } from 'types';\r\n\r\nexport const getRangeArray = (max: number, min: number = 0) => {\r\n  return Array.from(new Array(max + 1 - min), (x, i) => i + min);\r\n};\r\n\r\nexport const groupTripsByAgency = (\r\n  newTrips: Trip[],\r\n  previousTrips: GroupedTrip[],\r\n) => {\r\n  const previousGrouped = [...previousTrips];\r\n  const lastExisting = previousGrouped.pop();\r\n  const initialTrips = lastExisting ? [lastExisting] : [];\r\n  const newGrouped = newTrips.reduce((previous: GroupedTrip[], trip) => {\r\n    const tripIdentifier = `${trip.hotelCode}.${trip.price}.${trip.departureDate}.${trip.nights}`;\r\n    const sameTrip = previous.find(\r\n      (groupedTrip) => groupedTrip.tripIdentifier === tripIdentifier,\r\n    );\r\n    if (sameTrip) {\r\n      const alreadyAdded = sameTrip.agencies.find(\r\n        (a) => a.agency === trip.agency,\r\n      );\r\n      if (!alreadyAdded) {\r\n        sameTrip.agencies.push({\r\n          agency: trip.agency,\r\n          url: trip.url,\r\n          logo: trip.agencyLogo,\r\n        });\r\n        sameTrip.agencies.sort((a, b) => (a.agency > b.agency ? -1 : 1));\r\n        sameTrip.url =\r\n          1 / Math.random() > sameTrip.agencies.length\r\n            ? trip.url\r\n            : sameTrip.url;\r\n      }\r\n    } else {\r\n      previous.push({\r\n        ...trip,\r\n        tripIdentifier,\r\n        agencies: (trip as GroupedTrip).agencies ?? [\r\n          { agency: trip.agency, url: trip.url, logo: trip.agencyLogo },\r\n        ],\r\n      });\r\n    }\r\n    return previous;\r\n  }, initialTrips);\r\n\r\n  return [...previousGrouped, ...newGrouped];\r\n};\r\n\r\nexport const hasObjectsDifferentValues = (\r\n  initialObject: Object,\r\n  compareObject: Object,\r\n) =>\r\n  Object.keys(initialObject).some(\r\n    (key) =>\r\n      initialObject[key as keyof typeof initialObject] !==\r\n      compareObject[key as keyof typeof compareObject],\r\n  );\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport ReactSelect from 'react-select';\r\nimport ReactSlider from 'react-slider';\r\nimport { Input } from 'reactstrap';\r\n\r\nimport { Colors } from 'styles';\r\nimport { MiscUtils } from 'utils';\r\n\r\nconst INPUT_HEIGHT = '2rem';\r\n\r\nconst Container = styled.div`\r\n  margin-bottom: 1.5rem;\r\n\r\n  .react-select {\r\n    > div {\r\n      min-height: ${INPUT_HEIGHT};\r\n    }\r\n  }\r\n  .react-slider {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\ntype InputWrapperProps = {\r\n  label?: Label;\r\n};\r\n\r\nconst InputWrapper: React.FC<InputWrapperProps> = ({\r\n  label,\r\n  children,\r\n  ...rest\r\n}) => (\r\n  <Container {...rest}>\r\n    {label && <Label>{label}</Label>}\r\n    {children}\r\n  </Container>\r\n);\r\n\r\ntype Label = string;\r\n\r\nconst Label = styled.label`\r\n  font-weight: bold;\r\n`;\r\n\r\ntype TextProps = {\r\n  label?: Label;\r\n  placeholder?: string;\r\n  defaultValue?: string;\r\n  onChange?(str: string): void;\r\n};\r\n\r\nexport const Text: React.FC<TextProps> = ({\r\n  label,\r\n  placeholder,\r\n  defaultValue,\r\n  onChange,\r\n}) => (\r\n  <InputWrapper label={label}>\r\n    <Input\r\n      placeholder={placeholder}\r\n      defaultValue={defaultValue}\r\n      onChange={(e) => onChange?.(e.target.value)}\r\n    />\r\n  </InputWrapper>\r\n);\r\n\r\n/* Select */\r\n\r\ntype OptionValue = string | number;\r\n\r\ntype Option = {\r\n  label: string;\r\n  value: OptionValue;\r\n};\r\n\r\ntype CommonSelectProps = {\r\n  label?: Label;\r\n  placeholder?: string;\r\n  options: Option[];\r\n  defaultValue?: OptionValue | OptionValue[];\r\n};\r\n\r\ntype SelectProps = CommonSelectProps & {\r\n  onChange?: any;\r\n  isMulti?: boolean;\r\n};\r\n\r\nexport const Select: React.FC<SelectProps> = ({\r\n  label,\r\n  options,\r\n  onChange,\r\n  placeholder,\r\n  isMulti,\r\n  defaultValue,\r\n  ...rest\r\n}) => (\r\n  <InputWrapper label={label}>\r\n    <ReactSelect\r\n      className=\"react-select\"\r\n      options={options}\r\n      isMulti={isMulti}\r\n      onChange={(selected) =>\r\n        onChange?.(\r\n          isMulti\r\n            ? (selected as Option[]).map((item) => item.value)\r\n            : (selected as Option).value,\r\n        )\r\n      }\r\n      placeholder={placeholder}\r\n      defaultValue={\r\n        isMulti\r\n          ? (defaultValue as Option['value'][]).map((dv) =>\r\n              options.find((option) => option.value === dv),\r\n            )\r\n          : options.find((option) => option.value === defaultValue)\r\n      }\r\n      {...rest}\r\n    />\r\n  </InputWrapper>\r\n);\r\n\r\ntype MultiSelectProps = CommonSelectProps & {\r\n  defaultValue?: OptionValue | OptionValue[];\r\n  onChange?(selectedValues: OptionValue[]): void;\r\n};\r\n\r\nexport const MultiSelect: React.FC<MultiSelectProps> = (props) => (\r\n  <Select isMulti {...props} />\r\n);\r\n\r\ntype IntegerSelectProps = Omit<CommonSelectProps, 'options'> & {\r\n  min?: number;\r\n  max: number;\r\n  onChange?(selected: number): void;\r\n};\r\n\r\nexport const IntegerSelect: React.FC<IntegerSelectProps> = ({\r\n  min = 0,\r\n  max,\r\n  ...rest\r\n}) => {\r\n  const options = MiscUtils.getRangeArray(max, min).map((value) => ({\r\n    label: `${value}`,\r\n    value,\r\n  }));\r\n  return <Select options={options} {...rest} />;\r\n};\r\n\r\n/* Slider */\r\n\r\nconst SliderContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst StyledSlider = styled(ReactSlider)`\r\n  height: ${INPUT_HEIGHT};\r\n  flex: 2;\r\n`;\r\n\r\nconst StyledThumb = styled.div`\r\n  height: ${INPUT_HEIGHT};\r\n  width: ${INPUT_HEIGHT};\r\n  background-color: orange;\r\n  border: 0.15rem yellow solid;\r\n  cursor: grab;\r\n  border-radius: 50%;\r\n  z-index: 0 !important;\r\n`;\r\n\r\nconst Thumb = (props: any) => <StyledThumb {...props} />;\r\n\r\nconst StyledTrack = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 60%;\r\n  background-color: ${({ index }: { index: number }) =>\r\n    index !== 1 ? Colors.GreyDark : Colors.BlueDeepSky};\r\n  border-radius: 1rem;\r\n  padding: 0 1rem;\r\n`;\r\n\r\nconst Track = (props: any, state: any) => (\r\n  <StyledTrack {...props} index={state.index} />\r\n);\r\n\r\nconst ValueLabel = styled.div`\r\n  flex: 1;\r\n  font-size: 0.8rem;\r\n  text-align: center;\r\n`;\r\n\r\ntype SliderProps = {\r\n  label?: Label;\r\n  defaultValue?: OptionValue | OptionValue[];\r\n  options: Option[];\r\n  onChange?(selected: OptionValue | OptionValue[]): void;\r\n};\r\n\r\nexport const Slider: React.FC<SliderProps> = ({\r\n  label,\r\n  options,\r\n  defaultValue,\r\n  onChange,\r\n}) => {\r\n  const lastIndex = options.length - 1;\r\n  const isMultiple = Array.isArray(defaultValue);\r\n  const defaultValueIndexes = isMultiple\r\n    ? (defaultValue as OptionValue[]).map((dv) => {\r\n        const index = options.findIndex((option) => option.value === dv);\r\n        return 0 > index ? 0 : index;\r\n      })\r\n    : options.findIndex((option) => option.value === defaultValue);\r\n  const [value, setValue] = useState<number | number[]>(defaultValueIndexes);\r\n  const lowerLabel = (\r\n    isMultiple ? options[(value as number[])[0]] : options[value as number]\r\n  )?.label;\r\n  const upperLabel = (\r\n    isMultiple ? options[(value as number[])[1]] : options[lastIndex]\r\n  ).label;\r\n\r\n  const handleChange = (value: number | number[]) => {\r\n    onChange?.(\r\n      isMultiple\r\n        ? (value as number[]).map((v) => options[v].value)\r\n        : options[value as number].value,\r\n    );\r\n  };\r\n\r\n  return (\r\n    <InputWrapper label={label}>\r\n      <SliderContainer>\r\n        <ValueLabel>{lowerLabel}</ValueLabel>\r\n        <StyledSlider\r\n          className=\"react-slider\"\r\n          renderTrack={Track}\r\n          renderThumb={Thumb}\r\n          min={0}\r\n          max={lastIndex}\r\n          defaultValue={defaultValueIndexes}\r\n          onChange={(value) => setValue(value as number | number[])}\r\n          onAfterChange={(value) => handleChange(value as number | number[])}\r\n        />\r\n        <ValueLabel>{upperLabel}</ValueLabel>\r\n      </SliderContainer>\r\n    </InputWrapper>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport ReactGA, { OutboundLinkProps } from 'react-ga';\r\n\r\nimport { Colors } from 'styles';\r\n\r\nReactGA.initialize('UA-103950245-1');\r\n\r\nconst StyledTrackedLink = styled(({ noUnderline, ...props }) => (\r\n  <ReactGA.OutboundLink {...props} />\r\n))`\r\n  color: ${Colors.Black} !important;\r\n  ${({ noUnderline }: ExternalLinkProps) =>\r\n    noUnderline ? 'text-decoration: none !important;' : ''}\r\n`;\r\n\r\nconst StyledLink = styled(({ noUnderline, children, ...props }) => (\r\n  <a {...props}>{children}</a>\r\n))`\r\n  color: ${Colors.Black} !important;\r\n  ${({ noUnderline }: ExternalLinkProps) =>\r\n    noUnderline ? 'text-decoration: none !important;' : ''}\r\n`;\r\n\r\ntype ExternalLinkProps = Omit<OutboundLinkProps, 'onClick'> & {\r\n  noUnderline?: boolean;\r\n  skipTracking?: boolean;\r\n};\r\n\r\nconst ExternalLink: React.FC<Omit<ExternalLinkProps, 'eventLabel'>> = ({\r\n  skipTracking,\r\n  ...rest\r\n}) => {\r\n  const props = { ...rest, target: '_blank' };\r\n  return skipTracking ? (\r\n    <StyledLink href={props.to} {...props} />\r\n  ) : (\r\n    <StyledTrackedLink eventLabel={props.to} {...props} />\r\n  );\r\n};\r\n\r\nexport default ExternalLink;\r\n","import { Images, Layout } from 'components';\r\nimport React from 'react';\r\nimport { FaStar, FaTripadvisor } from 'react-icons/fa';\r\nimport styled from 'styled-components';\r\n\r\nimport { GroupedTrip } from 'types';\r\nimport { Colors } from 'styles';\r\nimport { DateUtils, MiscUtils, TextUtils } from 'utils';\r\nimport ExternalLink from './ExternalLink';\r\n\r\nconst Container = styled.div`\r\n  margin: 1rem;\r\n`;\r\n\r\nconst ResultRow = styled(Layout.Row)`\r\n  background-color: ${Colors.GreyBackground};\r\n  margin: 1rem 0;\r\n  overflow: hidden;\r\n  border-radius: 0.8rem;\r\n  box-shadow: 0 3px 1px -2px rgb(0 0 0 / 20%), 0 2px 3px 0 rgb(0 0 0 / 15%),\r\n    0 1px 6px 0 rgb(0 0 0 / 10%);\r\n`;\r\n\r\nconst ImageColumn = styled(Layout.Col)`\r\n  padding: 0;\r\n  max-height: 12rem;\r\n`;\r\n\r\nconst ContentColumn = styled(Layout.Col)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst PriceColumn = styled(ContentColumn)`\r\n  justify-content: center;\r\n`;\r\n\r\nconst ResultHeader = styled.div`\r\n  font-size: 2rem;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst ResultInfo = styled.div`\r\n  margin-left: 1rem;\r\n`;\r\n\r\nconst ResultInfoLine = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  line-height: 1.5rem;\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst TripadvisorIcon = styled(FaTripadvisor)`\r\n  font-size: 1rem;\r\n  margin: 0 0.3rem;\r\n`;\r\n\r\nconst StarsContainer = styled.div`\r\n  margin-left: 0.5rem;\r\n  margin-top: -0.2rem;\r\n`;\r\n\r\ntype StarsProps = {\r\n  stars: number;\r\n};\r\n\r\nconst Stars: React.FC<StarsProps> = ({ stars }) => (\r\n  <StarsContainer>\r\n    {MiscUtils.getRangeArray(stars, 1).map((num) => (\r\n      <FaStar key={num} />\r\n    ))}\r\n  </StarsContainer>\r\n);\r\n\r\nconst AgencyContainer = styled(ExternalLink)`\r\n  height: 3rem;\r\n  margin: 0.5rem 1rem 0.5rem 0;\r\n`;\r\n\r\nconst PriceContainer = styled.div`\r\n  text-align: right;\r\n  font-size: 0.8rem;\r\n`;\r\n\r\ntype PriceTextProps = {\r\n  isMain?: boolean;\r\n};\r\nconst PriceText = styled.div<PriceTextProps>`\r\n  font-weight: 600;\r\n  font-size: ${({ isMain }) => `${isMain ? 2 : 1.5}rem`};\r\n`;\r\n\r\ntype PriceProps = {\r\n  label: string;\r\n  price: number;\r\n  isMain?: boolean;\r\n};\r\n\r\nconst Price: React.FC<PriceProps> = ({ label, price, isMain }) => (\r\n  <PriceContainer>\r\n    <PriceText isMain={isMain}>{`${TextUtils.thousandSeparator(\r\n      price,\r\n    )}kr.`}</PriceText>\r\n    {label}\r\n  </PriceContainer>\r\n);\r\n\r\nconst Result: React.FC<GroupedTrip & { isPackage?: boolean }> = ({\r\n  isPackage,\r\n  place,\r\n  nights,\r\n  imageSmall,\r\n  hotel,\r\n  stars,\r\n  roomDescription,\r\n  departureDate,\r\n  returnDate,\r\n  tripadvisorUrl,\r\n  tripadvisorRating,\r\n  price,\r\n  pricePerPerson,\r\n  agencies,\r\n  url,\r\n}) => (\r\n  <ExternalLink to={url} noUnderline>\r\n    <ResultRow>\r\n      <ImageColumn md={3}>\r\n        <Images.ThumbnailImage src={imageSmall} />\r\n      </ImageColumn>\r\n      <ContentColumn md={6}>\r\n        <ResultHeader>{`${place} - ${nights} nætur`}</ResultHeader>\r\n        <ResultInfo>\r\n          <ResultInfoLine>\r\n            {DateUtils.getTripDatesString(departureDate, returnDate)}\r\n          </ResultInfoLine>\r\n          {isPackage && (\r\n            <>\r\n              <ExternalLink skipTracking to={tripadvisorUrl}>\r\n                <ResultInfoLine>\r\n                  {hotel}\r\n                  <Stars stars={stars} />\r\n                  <TripadvisorIcon />\r\n                  {TextUtils.dotToComma(tripadvisorRating.toFixed(1))}\r\n                </ResultInfoLine>\r\n              </ExternalLink>\r\n              <ResultInfoLine>{roomDescription}</ResultInfoLine>\r\n            </>\r\n          )}\r\n          <ResultInfoLine>\r\n            {agencies.map((agency) => (\r\n              <AgencyContainer to={agency.url} key={agency.agency}>\r\n                <Images.AgencyLogo src={agency.logo} />\r\n              </AgencyContainer>\r\n            ))}\r\n          </ResultInfoLine>\r\n        </ResultInfo>\r\n      </ContentColumn>\r\n      <PriceColumn md={3}>\r\n        <Price price={pricePerPerson} isMain label=\"per farþega\" />\r\n        <Price price={price} label=\"heildarverð\" />\r\n      </PriceColumn>\r\n    </ResultRow>\r\n  </ExternalLink>\r\n);\r\n\r\ntype TripProps = {\r\n  trip: GroupedTrip;\r\n};\r\n\r\nconst Trip: React.FC<TripProps> = ({ trip }) => <Result isPackage {...trip} />;\r\n\r\ntype TripsProps = {\r\n  trips: GroupedTrip[];\r\n};\r\n\r\nexport const Trips: React.FC<TripsProps> = ({ trips }) => (\r\n  <Container>\r\n    {trips.map((trip) => (\r\n      <Trip key={trip.id} trip={trip} />\r\n    ))}\r\n  </Container>\r\n);\r\n\r\ntype FlightProps = {\r\n  flight: GroupedTrip;\r\n};\r\n\r\nconst Flight: React.FC<FlightProps> = ({ flight }) => <Result {...flight} />;\r\n\r\ntype FlightsProps = {\r\n  flights: GroupedTrip[];\r\n};\r\n\r\nexport const Flights: React.FC<FlightsProps> = ({ flights }) => (\r\n  <Container>\r\n    {flights.map((flight) => (\r\n      <Flight key={flight.id} flight={flight} />\r\n    ))}\r\n  </Container>\r\n);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Container } from 'reactstrap';\r\n\r\nimport HeaderLogo from 'assets/header-logo.svg';\r\nimport { Colors } from 'styles';\r\n\r\nconst FullHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 4rem;\r\n  background-color: ${Colors.GreyLight};\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  height: 3rem;\r\n  margin-left: 1.5rem;\r\n`;\r\n\r\nconst Header = () => (\r\n  <FullHeader>\r\n    <Container>\r\n      <Logo src={HeaderLogo} />\r\n    </Container>\r\n  </FullHeader>\r\n);\r\n\r\nexport default Header;\r\n","import styled from 'styled-components';\r\n\r\ntype HiddenProps = {\r\n  shouldHide?: boolean;\r\n};\r\n\r\nconst Hidden = styled.div<HiddenProps>`\r\n  ${({ shouldHide }) => (shouldHide ? 'display: none;' : '')}\r\n`;\r\n\r\nexport default Hidden;\r\n","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { FaSun } from 'react-icons/fa';\r\n\r\nconst SpinAnimation = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(359deg);\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  animation: ${SpinAnimation} 4s infinite linear;\r\n  font-size: 4rem;\r\n`;\r\n\r\nconst Spinner = styled(FaSun)``;\r\n\r\nconst Loader: React.FC = () => (\r\n  <Container>\r\n    <Spinner />\r\n  </Container>\r\n);\r\n\r\nexport default Loader;\r\n","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Nav, NavItem, NavLink } from 'reactstrap';\r\nimport { Colors } from 'styles';\r\n\r\nconst Link = styled(NavLink)`\r\n  background-color: ${Colors.GreyOpacity};\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n`;\r\n\r\ntype Value = string;\r\n\r\ntype TabsProps = {\r\n  tabs: {\r\n    value: Value;\r\n    label: string | JSX.Element;\r\n  }[];\r\n  defaultValue?: Value;\r\n  onChange?(value: Value): void;\r\n};\r\n\r\nconst Tabs: React.FC<TabsProps> = ({ tabs, defaultValue, onChange }) => {\r\n  const [active, setActive] = useState<Value>(defaultValue ?? tabs?.[0].value);\r\n\r\n  useEffect(() => {\r\n    if (defaultValue) {\r\n      setActive(defaultValue);\r\n    }\r\n  }, [defaultValue]);\r\n\r\n  const handleChange = (value: Value) => {\r\n    if (value !== active) {\r\n      setActive(value);\r\n      onChange?.(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Nav tabs>\r\n      {tabs.map((tab, idx) => (\r\n        <NavItem key={idx} onClick={() => handleChange(tab.value)}>\r\n          <Link className={active === tab.value ? 'active' : ''}>\r\n            {tab.label}\r\n          </Link>\r\n        </NavItem>\r\n      ))}\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default Tabs;\r\n","type EnvParams = {\r\n  api: string;\r\n};\r\n\r\nconst production: EnvParams = {\r\n  api: `https://api.${window.location.host}/v1`,\r\n};\r\n\r\nconst local: EnvParams = {\r\n  api: 'http://127.0.0.1:8000/v1',\r\n};\r\n\r\nconst env = process.env.REACT_APP_ENV;\r\n\r\nconst envParams: EnvParams = env === 'production' ? production : local;\r\n\r\nexport default envParams;\r\n","import axios from 'axios';\r\n\r\nimport EnvParams from 'environment';\r\n\r\nconst connector = axios.create({\r\n  baseURL: `${EnvParams.api}`,\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'Content-type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default connector;\r\n","import connector from './connector';\r\n\r\nimport { Agency } from 'types';\r\n\r\nexport const getAgencies = async (): Promise<Agency[]> => {\r\n  const { data } = await connector.get(`/agencies/`);\r\n  return data;\r\n};\r\n","import connector from './connector';\r\n\r\nimport { TripsFilter } from 'types';\r\n\r\nexport const createFilter = async (filter: TripsFilter): Promise<string> => {\r\n  const { data } = await connector.post('/createFilter/', filter);\r\n  return data;\r\n};\r\n\r\nexport const getFilter = async (code: string): Promise<TripsFilter> => {\r\n  const { data } = await connector.get(`/filter/${code}`);\r\n  return data;\r\n};\r\n","import connector from './connector';\r\n\r\nimport { Place } from 'types';\r\n\r\nexport const getPlaces = async (): Promise<Place[]> => {\r\n  const { data } = await connector.get(`/places/`);\r\n  return data;\r\n};\r\n\r\nexport const getFlightPlaces = async (): Promise<Place[]> => {\r\n  const { data } = await connector.get(`/flightPlaces/`);\r\n  return data;\r\n};\r\n","import connector from './connector';\r\n\r\nimport { FlightsFilter, Trip, TripsFilter } from 'types';\r\n\r\nexport const getTrips = async (params: TripsFilter): Promise<Trip[]> => {\r\n  const { data } = await connector.get(`/trips/`, { params });\r\n  return data;\r\n};\r\n\r\nexport const getFlights = async (params: FlightsFilter): Promise<Trip[]> => {\r\n  const { data } = await connector.get(`/flights/`, { params });\r\n  return data;\r\n};\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FaGift, FaPlane } from 'react-icons/fa';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport {\r\n  Buttons,\r\n  Hidden,\r\n  Inputs,\r\n  Layout,\r\n  Loader,\r\n  Results,\r\n  Tabs,\r\n} from 'components';\r\nimport { Colors } from 'styles';\r\nimport { Agency, Place, GroupedTrip, TripsFilter, FlightsFilter } from 'types';\r\nimport {\r\n  AgencyService,\r\n  FilterService,\r\n  PlaceService,\r\n  TripService,\r\n} from 'services';\r\n\r\nimport SloganImage from 'assets/palms-w-logo.png';\r\nimport { DateUtils, MiscUtils, TextUtils } from 'utils';\r\n\r\nconst getMonthOptions = () => {\r\n  const firstDayOfCurrentMonth = DateUtils.getDate().startOf('month');\r\n  const monthOptions = MiscUtils.getRangeArray(12).map((offset) => {\r\n    const firstDayOfMonth = firstDayOfCurrentMonth.add(offset, 'month');\r\n    return {\r\n      label: TextUtils.capitalize(firstDayOfMonth.format('MMM YYYY')),\r\n      value: firstDayOfMonth.format('YYYY-MM-DD'),\r\n    };\r\n  });\r\n  return monthOptions;\r\n};\r\n\r\nconst monthOptions = getMonthOptions();\r\n\r\nconst defaultTravelPeriod = [\r\n  monthOptions[0].value,\r\n  monthOptions[monthOptions.length - 1].value,\r\n];\r\n\r\nconst defaultState: FlightsFilter | TripsFilter = {\r\n  adults: 2,\r\n  children: 0,\r\n  nightsFrom: 7,\r\n  nightsTo: 21,\r\n  priceFrom: 0,\r\n  priceTo: 500000,\r\n  minStars: 1,\r\n  minTripadvisor: 0,\r\n  search: '',\r\n  dateFrom: defaultTravelPeriod[0],\r\n  dateTo: defaultTravelPeriod[1],\r\n  agencies: [] as Agency['code'][],\r\n  places: [] as Place['code'][],\r\n  specificDates: 0 as 0 | 1,\r\n  isPackage: true,\r\n};\r\n\r\nconst nightOptions = MiscUtils.getRangeArray(30, 1).map((i) => ({\r\n  label: `${i}`,\r\n  value: i,\r\n}));\r\n\r\nconst priceOptions = MiscUtils.getRangeArray(500).map((i) => {\r\n  const thousands = i * 1000;\r\n  return {\r\n    label: TextUtils.thousandSeparator(thousands),\r\n    value: thousands,\r\n  };\r\n});\r\n\r\nconst starOptions = MiscUtils.getRangeArray(5, 1).map((i) => ({\r\n  label: `${i}`,\r\n  value: i,\r\n}));\r\n\r\nconst tripadvisorRatingOptions = MiscUtils.getRangeArray(10, 0).map((i) => {\r\n  const value = i / 2;\r\n  return {\r\n    label: TextUtils.dotToComma(value),\r\n    value,\r\n  };\r\n});\r\n\r\nconst PageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: ${Colors.White};\r\n`;\r\n\r\nconst Slogan = styled.div`\r\n  background-image: url(${SloganImage});\r\n  background-repeat: no-repeat;\r\n  background-size: 100%;\r\n  width: 100%;\r\n  min-height: 28rem;\r\n  display: flex;\r\n  align-items: flex-end;\r\n\r\n  .nav-tabs {\r\n    margin-left: 1rem;\r\n  }\r\n`;\r\n\r\nconst ContentContainer = styled.div`\r\n  margin: 1rem;\r\n  min-height: 80rem;\r\n`;\r\n\r\nconst TabLabel = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  color: ${Colors.BlackText};\r\n\r\n  svg {\r\n    margin-right: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst ResultHeader = styled.div`\r\n  margin: 2rem;\r\n  font-size: 2rem;\r\n  font-weight: 600;\r\n  text-align: center;\r\n`;\r\n\r\ntype RouteParams = {\r\n  filterCode: string;\r\n};\r\n\r\nconst SearchPage = () => {\r\n  const [isPackage, setIsPackage] = useState(defaultState.isPackage);\r\n  const [places, setPlaces] = useState<Place[]>([]);\r\n  const [selectedPlaceCodes, setSelectedPlaceCodes] = useState(\r\n    defaultState.places,\r\n  );\r\n  const [isReady, setIsReady] = useState(false);\r\n  const pageRef = useRef(1);\r\n  const [flightPlaces, setFlightPlaces] = useState<Place[]>([]);\r\n  const [selectedFlightPlaceCodes, setSelectedFlightPlaceCodes] = useState(\r\n    defaultState.places,\r\n  );\r\n  const [agencies, setAgencies] = useState<Agency[]>([]);\r\n  const [search, setSearch] = useState(defaultState);\r\n\r\n  const setSearchProp = (prop: keyof TripsFilter, value: any) =>\r\n    setSearch({ ...search, [prop]: value });\r\n  const [trips, setTrips] = useState<GroupedTrip[]>([]);\r\n  const [flights, setFlights] = useState<GroupedTrip[]>([]);\r\n  const [hasMoreTrips, setHasMoreTrips] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { filterCode }: RouteParams = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const init = async () => {\r\n      await Promise.all([getPlaces(), getAgencies()]);\r\n      await applyFilter();\r\n      setIsReady(true);\r\n    };\r\n    init();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const applyFilter = async () => {\r\n    if (filterCode) {\r\n      const filter = await FilterService.getFilter(filterCode);\r\n      setSearch(filter);\r\n      if (filter.isPackage) {\r\n        setSelectedPlaceCodes(filter.places);\r\n        getTrips(false, filter);\r\n      } else {\r\n        setSelectedFlightPlaceCodes(filter.places);\r\n        await handleTabChange('flights', filter);\r\n      }\r\n    } else {\r\n      getTrips();\r\n    }\r\n  };\r\n\r\n  const handleTabChange = async (value: string, searchParams?: TripsFilter) => {\r\n    const newIsPackage = value === 'package';\r\n    setIsPackage(newIsPackage);\r\n    if (!newIsPackage) {\r\n      getFlights(false, searchParams);\r\n      if (!flightPlaces.length) {\r\n        await getFlightPlaces();\r\n      }\r\n    } else {\r\n      getTrips();\r\n    }\r\n  };\r\n\r\n  const getPlaces = async () => {\r\n    const response = await PlaceService.getPlaces();\r\n    setPlaces(response);\r\n  };\r\n\r\n  const getFlightPlaces = async () => {\r\n    const response = await PlaceService.getFlightPlaces();\r\n    setFlightPlaces(response);\r\n  };\r\n\r\n  const getAgencies = async () => {\r\n    const response = await AgencyService.getAgencies();\r\n    setAgencies(response);\r\n  };\r\n\r\n  const handleUrlChange = async (searchParams: TripsFilter) => {\r\n    const newFilterCode = await FilterService.createFilter(searchParams);\r\n    history.push(`/${newFilterCode}`);\r\n  };\r\n\r\n  const handleSearchParams = (\r\n    placeCodes: Place['code'][],\r\n    nextPage?: boolean,\r\n  ) => {\r\n    const searchParams = {\r\n      ...search,\r\n      places: placeCodes,\r\n      isPackage,\r\n    };\r\n    const filteredParams = isPackage\r\n      ? searchParams\r\n      : {\r\n          ...searchParams,\r\n          agencies: defaultState.agencies,\r\n          search: defaultState.search,\r\n          minStars: defaultState.minStars,\r\n          minTripadvisor: defaultState.minTripadvisor,\r\n        };\r\n    if (MiscUtils.hasObjectsDifferentValues(searchParams, defaultState)) {\r\n      handleUrlChange(filteredParams);\r\n    }\r\n    return { ...filteredParams, page: updatePage(nextPage) };\r\n  };\r\n\r\n  const getTrips = async (nextPage?: boolean, searchParams?: TripsFilter) => {\r\n    if (!nextPage) {\r\n      setLoading(true);\r\n    }\r\n    const response = await TripService.getTrips(\r\n      searchParams ?? handleSearchParams(selectedPlaceCodes, nextPage),\r\n    );\r\n    if (response.length) {\r\n      const groupedTrips = MiscUtils.groupTripsByAgency(\r\n        response,\r\n        nextPage ? trips : [],\r\n      );\r\n      setTrips(groupedTrips);\r\n      setHasMoreTrips(true);\r\n    } else {\r\n      if (!nextPage) {\r\n        setTrips([]);\r\n      }\r\n      setHasMoreTrips(false);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const updatePage = (nextPage?: boolean) => {\r\n    pageRef.current = nextPage ? pageRef.current + 1 : 1;\r\n    return pageRef.current;\r\n  };\r\n\r\n  const getFlights = async (nextPage?: boolean, searchParams?: TripsFilter) => {\r\n    if (!nextPage) {\r\n      setLoading(true);\r\n    }\r\n    const response = await TripService.getFlights(\r\n      searchParams ?? handleSearchParams(selectedFlightPlaceCodes, nextPage),\r\n    );\r\n    if (response.length) {\r\n      const groupedFlights = MiscUtils.groupTripsByAgency(\r\n        response,\r\n        nextPage ? flights : [],\r\n      );\r\n      setFlights(groupedFlights);\r\n      setHasMoreTrips(true);\r\n    } else {\r\n      if (!nextPage) {\r\n        setFlights([]);\r\n      }\r\n      setHasMoreTrips(false);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <PageContainer>\r\n      <Slogan>\r\n        <Tabs\r\n          defaultValue={isPackage ? 'package' : 'flight'}\r\n          tabs={[\r\n            {\r\n              label: (\r\n                <TabLabel>\r\n                  <FaGift />\r\n                  Pakkaferð\r\n                </TabLabel>\r\n              ),\r\n              value: 'package',\r\n            },\r\n            {\r\n              label: (\r\n                <TabLabel>\r\n                  <FaPlane />\r\n                  Eingöngu flug\r\n                </TabLabel>\r\n              ),\r\n              value: 'flight',\r\n            },\r\n          ]}\r\n          onChange={(value) => handleTabChange(value)}\r\n        />\r\n      </Slogan>\r\n      {isReady && (\r\n        <ContentContainer>\r\n          <Layout.Row>\r\n            <Layout.Col md={4}>\r\n              <Hidden shouldHide={!isPackage}>\r\n                <Inputs.MultiSelect\r\n                  placeholder=\"Hvert sem er\"\r\n                  label=\"Áfangastaðir\"\r\n                  defaultValue={search.places}\r\n                  options={places.map((place) => ({\r\n                    label: `${place.country} - ${place.name}`,\r\n                    value: place.code,\r\n                  }))}\r\n                  onChange={(selected) =>\r\n                    setSelectedPlaceCodes(selected as Place['code'][])\r\n                  }\r\n                />\r\n              </Hidden>\r\n              <Hidden shouldHide={isPackage}>\r\n                <Inputs.MultiSelect\r\n                  placeholder=\"Hvert sem er\"\r\n                  label=\"Áfangastaðir\"\r\n                  defaultValue={search.places}\r\n                  options={flightPlaces.map((place) => ({\r\n                    label: `${place.country} - ${place.name}`,\r\n                    value: place.code,\r\n                  }))}\r\n                  onChange={(selected) =>\r\n                    setSelectedFlightPlaceCodes(selected as Place['code'][])\r\n                  }\r\n                />\r\n              </Hidden>\r\n            </Layout.Col>\r\n            <Layout.Col md={4}>\r\n              <Inputs.IntegerSelect\r\n                label=\"Fullorðnir\"\r\n                min={1}\r\n                max={4}\r\n                defaultValue={search.adults}\r\n                onChange={(value) => setSearchProp('adults', value)}\r\n              />\r\n            </Layout.Col>\r\n            <Layout.Col md={4}>\r\n              <Inputs.IntegerSelect\r\n                label=\"Börn\"\r\n                min={0}\r\n                max={4}\r\n                defaultValue={search.children}\r\n                onChange={(value) => setSearchProp('children', value)}\r\n              />\r\n            </Layout.Col>\r\n          </Layout.Row>\r\n          <Layout.Row>\r\n            <Layout.Col md={4}>\r\n              <Inputs.Slider\r\n                label=\"Ferðatímabil\"\r\n                options={monthOptions}\r\n                defaultValue={[\r\n                  search.dateFrom,\r\n                  DateUtils.getIsoDate(\r\n                    DateUtils.getStartOfMonth(search.dateTo),\r\n                  ),\r\n                ]}\r\n                onChange={(value: string[]) =>\r\n                  setSearch({\r\n                    ...search,\r\n                    dateFrom: value[0],\r\n                    dateTo: DateUtils.getIsoDate(\r\n                      DateUtils.getEndOfMonth(value[1]),\r\n                    ),\r\n                  })\r\n                }\r\n              />\r\n            </Layout.Col>\r\n            <Layout.Col md={4}>\r\n              <Inputs.Slider\r\n                label=\"Nætur\"\r\n                options={nightOptions}\r\n                defaultValue={[search.nightsFrom, search.nightsTo]}\r\n                onChange={(selected: number[]) =>\r\n                  setSearch({\r\n                    ...search,\r\n                    nightsFrom: selected[0],\r\n                    nightsTo: selected[1],\r\n                  })\r\n                }\r\n              />\r\n            </Layout.Col>\r\n            <Layout.Col md={4}>\r\n              <Inputs.Slider\r\n                label=\"Verð á mann\"\r\n                options={priceOptions}\r\n                defaultValue={[search.priceFrom, search.priceTo]}\r\n                onChange={(selected: number[]) =>\r\n                  setSearch({\r\n                    ...search,\r\n                    priceFrom: selected[0],\r\n                    priceTo: selected[1],\r\n                  })\r\n                }\r\n              />\r\n            </Layout.Col>\r\n          </Layout.Row>\r\n          <Hidden shouldHide={!isPackage}>\r\n            <Layout.Row>\r\n              <Layout.Col md={4}>\r\n                <Inputs.MultiSelect\r\n                  placeholder=\"Hver sem er\"\r\n                  label=\"Ferðaskrifstofur\"\r\n                  options={agencies.map((agency) => ({\r\n                    label: `${agency.name}`,\r\n                    value: agency.code,\r\n                  }))}\r\n                  defaultValue={search.agencies}\r\n                  onChange={(selected) => setSearchProp('agencies', selected)}\r\n                />\r\n              </Layout.Col>\r\n              <Layout.Col md={4}>\r\n                <Inputs.Slider\r\n                  label=\"Hótel stjörnur\"\r\n                  options={starOptions}\r\n                  defaultValue={search.minStars}\r\n                  onChange={(selected) => setSearchProp('minStars', selected)}\r\n                />\r\n              </Layout.Col>\r\n              <Layout.Col md={4}>\r\n                <Inputs.Slider\r\n                  label=\"Tripadvisor einkunn\"\r\n                  options={tripadvisorRatingOptions}\r\n                  defaultValue={search.minTripadvisor}\r\n                  onChange={(selected) =>\r\n                    setSearchProp('minTripadvisor', selected)\r\n                  }\r\n                />\r\n              </Layout.Col>\r\n            </Layout.Row>\r\n            <Layout.Row>\r\n              <Layout.Col md={12}>\r\n                <Inputs.Text\r\n                  label=\"Leit að hóteli eða herbergi\"\r\n                  placeholder=\"Frjáls leit, t.d. allt innifalið, tvíbýli o.s.frv.\"\r\n                  defaultValue={search.search}\r\n                  onChange={(value) => setSearchProp('search', value)}\r\n                />\r\n              </Layout.Col>\r\n            </Layout.Row>\r\n          </Hidden>\r\n          <Layout.Row>\r\n            <Layout.Col md={3} />\r\n            <Layout.Col md={6}>\r\n              <Buttons.JumboButton\r\n                color=\"primary\"\r\n                disabled={loading}\r\n                onClick={() => (isPackage ? getTrips() : getFlights())}\r\n              >\r\n                Leita\r\n              </Buttons.JumboButton>\r\n            </Layout.Col>\r\n          </Layout.Row>\r\n          <ResultHeader>Lægstu verð síðustu 7 daga</ResultHeader>\r\n          {loading ? (\r\n            <Loader />\r\n          ) : isPackage ? (\r\n            !trips.length ? (\r\n              <ResultHeader>Engar ferðir uppfylla valin skilyrði</ResultHeader>\r\n            ) : (\r\n              <InfiniteScroll\r\n                dataLength={trips.length}\r\n                next={() => getTrips(true)}\r\n                hasMore={hasMoreTrips}\r\n                loader={<Loader />}\r\n              >\r\n                <Results.Trips trips={trips} />\r\n              </InfiniteScroll>\r\n            )\r\n          ) : !flights.length ? (\r\n            <ResultHeader>Engar ferðir uppfylla valin skilyrði</ResultHeader>\r\n          ) : (\r\n            <InfiniteScroll\r\n              dataLength={flights.length}\r\n              next={() => getFlights(true)}\r\n              hasMore={hasMoreTrips}\r\n              loader={<Loader />}\r\n            >\r\n              <Results.Flights flights={flights} />\r\n            </InfiniteScroll>\r\n          )}\r\n        </ContentContainer>\r\n      )}\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { Container } from 'reactstrap';\nimport styled from 'styled-components';\n\nimport { Header } from 'components';\nimport { Colors } from 'styles';\n\nimport SearchPage from 'pages/SearchPage';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'styles/GlobalOverride.css';\n\nconst Background = styled.div`\n  background-color: ${Colors.GreyDark};\n`;\n\nconst App = () => (\n  <Background>\n    <Header />\n    <Container>\n      <Router>\n        <Switch>\n          <Route exact path=\"/:filterCode\" component={SearchPage} />\n          <Route exact path=\"/\" component={SearchPage} />\n          <Redirect to=\"/\" />\n        </Switch>\n      </Router>\n    </Container>\n  </Background>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.2e472f77.svg\";","module.exports = __webpack_public_path__ + \"static/media/palms-w-logo.a2f3cdcc.png\";"],"sourceRoot":""}